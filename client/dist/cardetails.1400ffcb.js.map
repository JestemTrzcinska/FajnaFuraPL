{"version":3,"sources":["cardetails.js"],"names":["init","document","getElementById","addEventListener","date_send","ev","classList","remove","fails","date_validate","length","submit","forEach","obj","field","input","add","failures","date_from","date_to","today","Date","day","String","getDate","padStart","month","getMonth","year","getFullYear","value","push","msg"],"mappings":"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","file":"cardetails.1400ffcb.js","sourceRoot":"..\\src","sourcesContent":["const init = function(){\r\n  document.getElementById('date_submit').addEventListener('click', date_send);\r\n}\r\n\r\nconst date_send = function(ev){\r\n  //Czyszczenie poprzednich błędów\r\n  document.getElementById('date_from').classList.remove('error');\r\n  document.getElementById('date_to').classList.remove('error');\r\n\r\n  let fails = date_validate();\r\n\r\n  if(fails.length === 0){\r\n    document.getElementById('form_cardetails2').submit();\r\n    /*axios({\r\n      method: 'post',\r\n      url: '/rent.html',\r\n      data: {\r\n        date_from: document.getElementById('date_from').value,\r\n        date_to: document.getElementById('date_to').value\r\n      }\r\n    })*/\r\n    /*axios.post('/rent.html', {\r\n      firstName: document.getElementById('date_from').value,\r\n      lastName: document.getElementById('date_to').value\r\n    })\r\n    .then((response) => {\r\n      console.log(response.data);\r\n    }, (error) => {\r\n      console.log(error);\r\n    });*/\r\n  }\r\n  else{\r\n    //Wyświetlenie błędów (ramki + wiadomości)\r\n    fails.forEach(function(obj){\r\n      let field = document.getElementById(obj.input);\r\n      field.classList.add('error');\r\n    })\r\n  }\r\n}\r\n\r\nconst date_validate = function(ev){\r\n  let failures = [];\r\n  let date_from = document.getElementById('date_from');\r\n  let date_to = document.getElementById('date_to');\r\n\r\n  var today = new Date();\r\n  var day = String(today.getDate()).padStart(2, '0');\r\n  var month = String(today.getMonth() + 1).padStart(2, '0');\r\n  var year = today.getFullYear();\r\n\r\n  today = year + '-' + month + '-' + day;\r\n\r\n  if(date_from.value === \"\"){\r\n    failures.push({input:'date_from', msg:'Pole wymagane!'})\r\n  }\r\n  else if(date_from.value < today){\r\n    failures.push({input:'date_from', msg:'Nieprawidłowe dane!'})\r\n  }\r\n  if(date_to.value === \"\"){\r\n    failures.push({input:'date_to', msg:'Pole wymagane!'})\r\n  }\r\n  else if(date_to.value < today){\r\n    failures.push({input:'date_to', msg:'Nieprawidłowe dane!'})\r\n  }\r\n  else if(date_to.value < date_from.value){\r\n    failures.push({input:'date_to', msg:'Nieprawidłowe dane!'})\r\n  }\r\n\r\n  //if(failures.length != 0){\r\n  //  return failures;\r\n  //}\r\n\r\n  /* Przyda się później przy sprawdzaniu z bazy\r\n  var success = 0;\r\n  for(var i = 0; i < objUsers.length; i++) {\r\n    if(email.value == objUsers[i].email && password.value == objUsers[i].password) {\r\n      alert(email.value + \" zalogowany/zalogowana\")\r\n      success = 1;\r\n    }\r\n  }\r\n\r\n  if(!success){\r\n    alert(\"Złe dane logowania!\");\r\n    failures.push({input:'login_email', msg:'Błędne dane!'})\r\n    failures.push({input:'login_password', msg:'Błędne dane!'})\r\n  }\r\n  */\r\n\r\n  return failures;\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', init);\r\n"]}